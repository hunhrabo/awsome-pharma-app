{"version":3,"sources":["components/TopRevenue.js","components/SalesChart.js","App.js","serviceWorker.js","index.js"],"names":["TopRevenue","_ref","salesPerPerson","_useState","useState","_useState2","Object","slicedToArray","totalSales","setTotalSales","_useState3","_useState4","tableStatus","setTableStatus","_useState5","_useState6","orderedBy","setOrderedBy","useEffect","map","person","name","totalRevenue","monthlySales","month","reduce","previous","current","totalProductsSold","sort","a","b","buttonText","personsToShow","length","react_default","createElement","className","onClick","copyOfSales","toConsumableArray","style","visibility","index","key","SalesChart","salesPerCustomers","months","totalSalesPerMonth","setTotalSalesPerMonth","activeCustomer","setActiveCustomer","currentCustomer","find","customer","salesOfMonth","monthName","chartData","options","plotOptions","bar","dataLabels","position","chart","fontFamily","enabled","formatter","val","Number","offsetY","fontSize","colors","xaxis","categories","labels","axisBorder","show","axisTicks","crosshairs","fill","type","gradient","colorFrom","colorTo","stops","opacityFrom","opacityTo","tooltip","shade","shadeIntensity","gradientToColors","undefined","inverseColors","yaxis","title","text","concat","floating","align","color","series","data","htmlFor","value","onChange","e","target","react_apexcharts_min_default","height","App","setSalesPerPerson","setSalesPerCustomers","asyncToGenerator","regenerator_default","mark","_callee","salespersons","orders","products","wrap","_context","prev","next","axios","get","then","result","filter","item","id","sent","items","account","abrupt","stop","apply","this","arguments","fetchData","salesData","salesPerSalesperson","salesperson","personId","salesOfPerson","order","forEach","monthOfOrder","split","productsSold","productId","productFound","product","unitPrice","customers","Set","salesPerCustomer","Array","from","customerData","customerOrders","Fragment","components_TopRevenue","components_SalesChart","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6004e0a4.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst TopRevenue = ({ salesPerPerson }) => {\r\n  // total sales per salesperson\r\n  const [totalSales, setTotalSales] = useState(salesPerPerson);\r\n  const [tableStatus, setTableStatus] = useState(\"collapsed\");\r\n  const [orderedBy, setOrderedBy] = useState(\"revenue\");\r\n\r\n  // reorder salespersons by revenue - top to low\r\n  useEffect(() => {\r\n    setTotalSales(\r\n      salesPerPerson\r\n        .map(person => {\r\n          let name = person.name;\r\n          let totalRevenue = person.monthlySales\r\n            .map(month => {\r\n              return month.totalRevenue;\r\n            })\r\n            .reduce((previous, current) => previous + current);\r\n\r\n          let totalProductsSold = person.monthlySales\r\n            .map(month => month.totalProductsSold)\r\n            .reduce((previous, current) => previous + current);\r\n          return {\r\n            name,\r\n            totalRevenue,\r\n            totalProductsSold\r\n          };\r\n        })\r\n        .sort((a, b) => {\r\n          return b.totalRevenue - a.totalRevenue;\r\n        })\r\n    );\r\n  }, [salesPerPerson]);\r\n\r\n  // handler functions for reordering table data\r\n  const sortByRevenue = () => {\r\n    let copyOfSales = [...totalSales];\r\n\r\n    copyOfSales.sort((a, b) => {\r\n      return b.totalRevenue - a.totalRevenue;\r\n    });\r\n\r\n    setOrderedBy(\"revenue\");\r\n    setTotalSales(copyOfSales);\r\n  };\r\n\r\n  const sortByProductsSold = () => {\r\n    let copyOfSales = [...totalSales];\r\n\r\n    copyOfSales.sort((a, b) => {\r\n      return b.totalProductsSold - a.totalProductsSold;\r\n    });\r\n\r\n    setOrderedBy(\"products\");\r\n    setTotalSales(copyOfSales);\r\n  };\r\n\r\n  const handleTableDisplay = () => {\r\n    let newStatus = tableStatus === \"collapsed\" ? \"open\" : \"collapsed\";\r\n    setTableStatus(newStatus);\r\n  };\r\n\r\n  // dinamically change elements attributes\r\n  const buttonText =\r\n    tableStatus === \"collapsed\" ? \"Show more...\" : \"Show less...\";\r\n\r\n  const personsToShow = tableStatus === \"collapsed\" ? 3 : totalSales.length;\r\n\r\n  return (\r\n    <div className=\"table-container\">\r\n      <h2>Top salespersons</h2>\r\n      <table className=\"top-revenue-table\">\r\n        <tbody>\r\n          <tr className=\"table-header\">\r\n            <th>\r\n              <p>Name</p>\r\n            </th>\r\n            <th className=\"table-tab\">\r\n              <p onClick={sortByRevenue}>\r\n                Total revenue (EUR)\r\n                <i\r\n                  className=\"fas fa-chevron-down\"\r\n                  style={{\r\n                    visibility: orderedBy === \"revenue\" ? \"visible\" : \"hidden\"\r\n                  }}\r\n                />\r\n              </p>\r\n            </th>\r\n            <th className=\"table-tab\">\r\n              <p onClick={sortByProductsSold}>\r\n                Total products sold\r\n                <i\r\n                  className=\"fas fa-chevron-down\"\r\n                  style={{\r\n                    visibility: orderedBy === \"products\" ? \"visible\" : \"hidden\"\r\n                  }}\r\n                />\r\n              </p>\r\n            </th>\r\n          </tr>\r\n          {totalSales.map((person, index) => {\r\n            return (\r\n              <tr\r\n                key={person.name}\r\n                style={{\r\n                  visibility: index >= personsToShow ? \"collapse\" : \"visible\"\r\n                }}\r\n              >\r\n                <td>{person.name}</td>\r\n                <td>{person.totalRevenue}</td>\r\n                <td>{person.totalProductsSold}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"btn-container\">\r\n        <button onClick={handleTableDisplay}>{buttonText}</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopRevenue;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nconst SalesChart = ({ salesPerCustomers, months }) => {\r\n  const [totalSalesPerMonth, setTotalSalesPerMonth] = useState([]);\r\n  const [activeCustomer, setActiveCustomer] = useState(\"total\");\r\n\r\n  // restructure data based on selected customer\r\n  useEffect(() => {\r\n    if (activeCustomer !== \"total\") {\r\n      let currentCustomer = salesPerCustomers.find(\r\n        customer => customer.name === activeCustomer\r\n      );\r\n      setTotalSalesPerMonth(\r\n        currentCustomer.monthlySales.map(month => {\r\n          return {\r\n            month: month,\r\n            totalProductsSold: month.totalProductsSold\r\n          };\r\n        })\r\n      );\r\n    } else if (activeCustomer === \"total\") {\r\n      setTotalSalesPerMonth(\r\n        months.map(month => {\r\n          let salesOfMonth = salesPerCustomers\r\n            .map(customer => {\r\n              let monthFound = customer.monthlySales.find(\r\n                monthName => monthName.month === month\r\n              );\r\n\r\n              return monthFound.totalProductsSold;\r\n            })\r\n            .reduce((previous, current) => previous + current);\r\n          return {\r\n            month: month,\r\n            totalProductsSold: salesOfMonth\r\n          };\r\n        })\r\n      );\r\n    }\r\n  }, [salesPerCustomers, months, activeCustomer]);\r\n\r\n  // handler function for form data change\r\n  const handleNameChange = e => {\r\n    setActiveCustomer(e.target.value);\r\n  };\r\n\r\n  // chart parameters\r\n  const chartData = {\r\n    options: {\r\n      plotOptions: {\r\n        bar: {\r\n          dataLabels: {\r\n            position: \"top\" // top, center, bottom\r\n          }\r\n        }\r\n      },\r\n      chart: {\r\n        fontFamily: \"Rubik\"\r\n      },\r\n      dataLabels: {\r\n        enabled: true,\r\n        formatter: val => Number(val),\r\n        offsetY: -20,\r\n        style: {\r\n          fontSize: \"12px\",\r\n          colors: [\"#304758\"]\r\n        }\r\n      },\r\n      xaxis: {\r\n        categories: months,\r\n        position: \"bottom\",\r\n        labels: {\r\n          offsetY: 0\r\n        },\r\n        axisBorder: {\r\n          show: false\r\n        },\r\n        axisTicks: {\r\n          show: false\r\n        },\r\n        crosshairs: {\r\n          fill: {\r\n            type: \"gradient\",\r\n            gradient: {\r\n              colorFrom: \"#D8E3F0\",\r\n              colorTo: \"#BED1E6\",\r\n              stops: [0, 100],\r\n              opacityFrom: 0.4,\r\n              opacityTo: 0.5\r\n            }\r\n          }\r\n        },\r\n        tooltip: {\r\n          enabled: true,\r\n          offsetY: -35\r\n        }\r\n      },\r\n      fill: {\r\n        gradient: {\r\n          shade: \"light\",\r\n          type: \"horizontal\",\r\n          shadeIntensity: 0.25,\r\n          gradientToColors: undefined,\r\n          inverseColors: true,\r\n          opacityFrom: 1,\r\n          opacityTo: 1,\r\n          stops: [50, 0, 100, 100]\r\n        }\r\n      },\r\n      yaxis: {\r\n        axisBorder: {\r\n          show: false\r\n        },\r\n        axisTicks: {\r\n          show: false\r\n        },\r\n        labels: {\r\n          show: true,\r\n          formatter: val => Number(val)\r\n        },\r\n        title: {\r\n          text: \"Products sold\",\r\n          style: {\r\n            fontSize: \"16px\"\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        text: `Monthly sales - ${activeCustomer}, 2018`,\r\n        position: \"top\",\r\n        floating: true,\r\n        offsetY: -5,\r\n        align: \"center\",\r\n        style: {\r\n          fontSize: \"16px\",\r\n          color: \"#444\"\r\n        }\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        name: \"Sales production\",\r\n        data: totalSalesPerMonth.map(month => month.totalProductsSold)\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div className=\"chart-container\">\r\n      <h2>Total products sold</h2>\r\n      <form className=\"customer-select-form\">\r\n        <label htmlFor=\"customer-select\">Select customer:</label>\r\n        <select\r\n          name=\"customer-select\"\r\n          value={activeCustomer}\r\n          onChange={handleNameChange}\r\n        >\r\n          <option value=\"total\">Total</option>\r\n          {salesPerCustomers.map(customer => {\r\n            return (\r\n              <option key={customer.name} value={customer.name}>\r\n                {customer.name}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </form>\r\n      <ReactApexChart\r\n        className=\"chart\"\r\n        options={chartData.options}\r\n        series={chartData.series}\r\n        type=\"bar\"\r\n        height=\"450\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalesChart;\r\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport TopRevenue from \"./components/TopRevenue\";\nimport SalesChart from \"./components/SalesChart\";\n\nconst months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst url = \"/api\";\n\nconst App = () => {\n  const [salesPerPerson, setSalesPerPerson] = useState([]);\n  const [salesPerCustomers, setSalesPerCustomers] = useState([]);\n\n  // run when component is mounted\n  useEffect(() => {\n    const fetchData = async () => {\n      const salespersons = await axios\n        .get(`${url}/salespersons`)\n        .then(result => {\n          return result.data.data.filter(item => item.id !== \"\");\n        });\n\n      const orders = await axios.get(`${url}/orders`).then(result => {\n        return result.data.data.filter(items => items.account !== \"\");\n      });\n\n      const products = await axios.get(`${url}/products`).then(result => {\n        return result.data.data.filter(item => item[\"product name\"] !== \"\");\n      });\n\n      return {\n        salespersons,\n        orders,\n        products\n      };\n    };\n\n    // fetch data from backend\n    fetchData()\n      .then(salesData => {\n        // restructure orders by salesperson\n        let salesPerSalesperson = salesData.salespersons.map(salesperson => {\n          let person = {};\n          person.name = salesperson.name;\n          person.personId = salesperson.id;\n\n          let salesOfPerson = salesData.orders.filter(\n            order => order[\"salesperson id\"] === salesperson.id\n          );\n          person.monthlySales = months.map(month => {\n            return {\n              month: month,\n              totalRevenue: 0,\n              totalProductsSold: 0\n            };\n          });\n\n          salesOfPerson.forEach(order => {\n            let monthOfOrder = Number(order[\"order date\"].split(\"/\")[0]) - 1;\n            let productsSold = Number(order[\"number of product sold\"]);\n            let productId = order[\"product id\"];\n            let productFound = salesData.products.find(\n              product => product[\"product id\"] === productId\n            );\n            let unitPrice = Number(productFound[\"unit price\"]);\n\n            person.monthlySales[monthOfOrder].totalRevenue +=\n              productsSold * unitPrice;\n            person.monthlySales[monthOfOrder].totalProductsSold += productsSold;\n          });\n          return person;\n        });\n\n        // restructure orders by customers\n        let customers = new Set(salesData.orders.map(order => order.account));\n        let customersArray = Array.from(customers);\n\n        let salesOfCustomers = customersArray.map(customer => {\n          let customerData = {};\n          customerData.name = customer;\n          let customerOrders = salesData.orders.filter(\n            order => order.account === customer\n          );\n\n          customerData.monthlySales = months.map(month => {\n            return {\n              month: month,\n              totalProductsSold: 0\n            };\n          });\n\n          customerOrders.forEach(order => {\n            let monthOfOrder = Number(order[\"order date\"].split(\"/\")[0]) - 1;\n            let productsSold = Number(order[\"number of product sold\"]);\n\n            customerData.monthlySales[\n              monthOfOrder\n            ].totalProductsSold += productsSold;\n          });\n          return customerData;\n        });\n\n        // return new datasets\n        return {\n          salesPerPerson: salesPerSalesperson,\n          salesPerCustomer: salesOfCustomers\n        };\n      })\n      .then(result => {\n        setSalesPerPerson(result.salesPerPerson);\n        setSalesPerCustomers(result.salesPerCustomer);\n      });\n  }, []);\n\n  // loading screen\n  if (salesPerPerson.length === 0 || salesPerCustomers.length === 0) {\n    return (\n      <div className=\"loading-div\">\n        <h2 className=\"loading-text\">Loading...</h2>\n        <i className=\"fas fa-spinner loading-icon\" />\n      </div>\n    );\n  } else {\n    // render site when data is ready\n    return (\n      <>\n        <main className=\"content-wrap\">\n          <h1>AwsomePharma Sales Team Annual Report</h1>\n          <TopRevenue salesPerPerson={salesPerPerson} />\n          <SalesChart salesPerCustomers={salesPerCustomers} months={months} />\n        </main>\n        <footer className=\"footer\">Created by Tamas Hrabovszki</footer>\n      </>\n    );\n  }\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}